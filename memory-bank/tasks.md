# Tasks - CityQuest

> **–ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á**

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –§–∞–∑–∞ 1 –ó–ê–í–ï–†–®–ï–ù–ê ‚Üí –ì–æ—Ç–æ–≤ –∫ –§–∞–∑–µ 2
- **–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á:** 1
- **–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á:** 6 + 1 —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

## üìã –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –ó–∞–¥–∞—á–∞ #007: Frontend API Integration - Phase 1

**ID –∑–∞–¥–∞—á–∏:** CQST-007  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-30  
**–°—Ç–∞—Ç—É—Å:** üî® –í –†–ê–ë–û–¢–ï (BUILD MODE)  
**–¢–∏–ø:** Level 3 - Intermediate Feature  
**–†–µ–∂–∏–º:** BUILD MODE - –§–∞–∑–∞ 1

#### –û–ø–∏—Å–∞–Ω–∏–µ
–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ React frontend —Å Symfony API. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS, endpoint –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤, –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

#### –ß–µ–∫-–ª–∏—Å—Ç –∑–∞–¥–∞—á (–§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

**1.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –≤ Symfony** ‚úÖ –ö–†–ò–¢–ò–ß–ù–û
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nelmio/cors-bundle
- [x] –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nelmio_cors.yaml
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CORS –∑–∞–ø—Ä–æ—Å—ã

**1.2. Endpoint –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤** ‚úÖ
- [x] –°–æ–∑–¥–∞—Ç—å CityController –≤ Symfony
- [x] –î–æ–±–∞–≤–∏—Ç—å endpoint GET /api/cities
- [x] –û–±–Ω–æ–≤–∏—Ç—å api.ts –¥–ª—è getCities()
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å endpoint

**2.0. –ó–∞–º–µ–Ω–∏—Ç—å atob –Ω–∞ jwt_decode** ‚úÖ
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É jwt-decode
- [x] –ó–∞–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ atob –Ω–∞ jwt_decode –≤ login()
- [x] –ó–∞–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ atob –Ω–∞ jwt_decode –≤ getCurrentUser()
- [x] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend (237 –ø–∞–∫–µ—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ atob –≤ –∫–æ–¥–µ

**2.1. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** ‚úÖ
- [x] –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç AuthModal.tsx (~250 —Å—Ç—Ä–æ–∫)
- [x] –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AuthContext
- [x] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Header (–∑–∞–º–µ–Ω–µ–Ω alert)
- [x] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend (208.40 kB bundle)

#### –ú–µ—Ç—Ä–∏–∫–∏
- **–í—Ä–µ–º—è:** ~2.25 —á–∞—Å–∞ (–§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã API
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 3 –Ω–æ–≤—ã—Ö + 1 —É–ª—É—á—à–µ–Ω–∏–µ
- **–ü—Ä–æ–≥—Ä–µ—Å—Å:** –§–∞–∑–∞ 1 (100%) ‚úÖ

#### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
‚úÖ –§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
‚Üí –ü–µ—Ä–µ–π—Ç–∏ –∫ REFLECT MODE –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚Üí –ó–∞—Ç–µ–º –Ω–∞—á–∞—Ç—å –§–∞–∑—É 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –ó–∞–¥–∞—á–∞ #006: Frontend Quick Wins (UI Cleanup)

**ID –∑–∞–¥–∞—á–∏:** CQST-006  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-30  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-11-30  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  
**–¢–∏–ø:** Level 2 - Simple Enhancement  

#### –û–ø–∏—Å–∞–Ω–∏–µ
–ë—ã—Å—Ç—Ä–∞—è –æ—á–∏—Å—Ç–∫–∞ UI frontend –ø–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å Symfony API. –£–±—Ä–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

#### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–§–∞–∑–∞ 0: Quick Wins)

**0.1. –£–±—Ä–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã** ‚úÖ
- [x] –£–ø—Ä–æ—Å—Ç–∏—Ç—å `ThemeContext.tsx` (—Ç–æ–ª—å–∫–æ light —Ç–µ–º–∞)
- [x] –£–¥–∞–ª–∏—Ç—å –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∏–∑ `Header.tsx`

**0.2. –£–±—Ä–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é** ‚úÖ
- [x] –£–¥–∞–ª–∏—Ç—å `search` –∏–∑ `QuestFiltersSchema` –≤ `types.ts`
- [x] –£–¥–∞–ª–∏—Ç—å `search` –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–∑ `api.ts`
- [x] –£–¥–∞–ª–∏—Ç—å –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ –∏–∑ `Filters.tsx`
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å `useQuests.ts` (—É–±—Ä–∞—Ç—å `filters.search`)

**0.3. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ API** ‚úÖ
- [x] –û–±–Ω–æ–≤–∏—Ç—å `QuestCard.tsx` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `quest.imageUrl`
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ö–µ–º—É —Ç–∏–ø–æ–≤: snake_case ‚Üí camelCase
- [x] –û–±–Ω–æ–≤–∏—Ç—å `Home.tsx` –∏ `QuestDetail.tsx`

**0.4. –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ URL** ‚úÖ
- [x] –ò–∑–º–µ–Ω–∏—Ç—å `API_URL` –Ω–∞ `/api` –≤ `api.ts`

**0.5. –®–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ 400px** ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å `w-[400px]` –∫–ª–∞—Å—Å –≤ `QuestCard.tsx`

**–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** ‚úÖ
- [x] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend (`./build-frontend-docker.sh`)
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ `http://cityquest.test`

#### –ú–µ—Ç—Ä–∏–∫–∏
- **–í—Ä–µ–º—è:** ~40 –º–∏–Ω—É—Ç (–≤–∫–ª—é—á–∞—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã)
- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 8 (–≤–∫–ª—é—á–∞—è —Ç–∏–ø—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–æ:** 4
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Symfony API

#### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
–ì–æ—Ç–æ–≤ –∫ –§–∞–∑–µ 1: CORS –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

---

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: Test Infrastructure (2025-11-30)

**–¢–∏–ø:** Code Quality Improvement (Post-CQST-005)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–ê–†–•–ò–í–ò–†–û–í–ê–ù–û

**–ê—Ä—Ö–∏–≤:** `memory-bank/archive/archive-refactoring-test-infrastructure-20251130.md`  
**Reflection:** `memory-bank/reflection/reflection-CQST-005-refactoring.md`

#### –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç–µ—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ—Å–ª–µ CQST-005 –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞ –∏ Developer Experience.

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ `AuthenticationTrait` - fallback –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT
- ‚úÖ `DatabaseTestTrait` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ EntityManager –∏ –ë–î
- ‚úÖ `TestAuthClient` - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- ‚úÖ `TestObjectFactory` - —Ñ–∞–±—Ä–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

#### –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è
- üìâ –ö–æ–¥ —Ç–µ—Å—Ç–æ–≤: -40%
- üìà –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å: +50%
- üìà Developer Experience: +200%
- üìà Maintainability: +100%
- üéØ ROI: 433% (–ø–æ—Å–ª–µ 10 –∑–∞–¥–∞—á)

---

### –ó–∞–¥–∞—á–∞ #005: Quest Lists & User Progress API

**–ê—Ä—Ö–∏–≤:** `memory-bank/archive/archive-CQST-005-20251129.md`  
**Reflection:** `memory-bank/reflection/reflection-CQST-005.md`

**ID –∑–∞–¥–∞—á–∏:** CQST-005  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-29  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-11-29  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û –ò –ó–ê–ê–†–•–ò–í–ò–†–û–í–ê–ù–û

#### –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Quest API —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –∫–≤–µ—Å—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∞–∫—Ç–∏–≤–Ω—ã–º–∏/–ø–∞—É–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏/–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º–∏ –∫–≤–µ—Å—Ç–∞–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π –ª–∞–π–∫–æ–≤.

#### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ 7 –Ω–æ–≤—ã—Ö endpoints (3 –ø—É–±–ª–∏—á–Ω—ã—Ö + 4 –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö)
- ‚úÖ 75 tests, 264 assertions - ALL PASSED
- ‚úÖ 3 –Ω–æ–≤—ã—Ö –¥–æ–º–µ–Ω–∞ (UserQuestProgress, extensions to Quest/User)
- ‚úÖ Postman Collection v1.1.0

---

### –ó–∞–¥–∞—á–∞ #004: Quest Data API

**ID –∑–∞–¥–∞—á–∏:** CQST-004  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-29  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-11-29  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê –ò –ó–ê–ê–†–•–ò–í–ò–†–û–í–ê–ù–ê

**–ê—Ä—Ö–∏–≤:** `memory-bank/archive/archive-CQST-004-20251129.md`  
**Reflection:** `memory-bank/reflection/reflection-CQST-004.md`

---

### –ó–∞–¥–∞—á–∞ #003: User Profile Management

**ID –∑–∞–¥–∞—á–∏:** CQST-003  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-26  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê –ò –ó–ê–ê–†–•–ò–í–ò–†–û–í–ê–ù–ê

**–ê—Ä—Ö–∏–≤:** `memory-bank/archive/archive-CQST-003-20251026.md`

---

### –ó–∞–¥–∞—á–∞ #002: Username-based –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**ID –∑–∞–¥–∞—á–∏:** CQST-002  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-26  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê –ò –ó–ê–ê–†–•–ò–í–ò–†–û–í–ê–ù–ê

**–ê—Ä—Ö–∏–≤:** `memory-bank/archive/archive-CQST-002-20251026.md`

---

### –ó–∞–¥–∞—á–∞ #001: –°–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**ID –∑–∞–¥–∞—á–∏:** CQST-001  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-25  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê –ò –ó–ê–ê–†–•–ò–í–ò–†–û–í–ê–ù–ê

**–ê—Ä—Ö–∏–≤:** `memory-bank/archive/archive-CQST-001-20251025.md`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-30  
**–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø:** –ì–æ—Ç–æ–≤ –∫ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–µ  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ VAN MODE
