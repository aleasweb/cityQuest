# Project Brief - CityQuest

> **–û—Å–Ω–æ–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞ - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è**

## üéØ –°—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞

**CityQuest** - —Å–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Ä–µ–∞–ª—å–Ω—ã–º –ª–æ–∫–∞—Ü–∏—è–º.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –≤—Ö–æ–¥–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É (JWT auth)
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç—å –∫–≤–µ—Å—Ç—ã –ø–æ –≥–æ—Ä–æ–¥—É –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º (difficulty, popularity)
- ‚úÖ –ò—Å–∫–∞—Ç—å –∫–≤–µ—Å—Ç—ã —Ä—è–¥–æ–º (–≥–µ–æ–ø–æ–∏—Å–∫ Haversine)
- ‚úÖ –ù–∞—á–∏–Ω–∞—Ç—å, –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏ –∑–∞–≤–µ—Ä—à–∞—Ç—å –∫–≤–µ—Å—Ç—ã
- ‚úÖ –û—Ç–º–µ—á–∞—Ç—å –∫–≤–µ—Å—Ç—ã –ª–∞–π–∫–∞–º–∏ (—Ç–æ–ª—å–∫–æ –Ω–∞—á–∞—Ç—ã–µ)
- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π
- ‚è≥ –ü—Ä–æ—Ö–æ–¥–∏—Ç—å –∫–≤–µ—Å—Ç—ã —Å —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

## üé≠ –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

- –ú–µ—Å—Ç–Ω—ã–µ –∂–∏—Ç–µ–ª–∏, –∂–µ–ª–∞—é—â–∏–µ –ª—É—á—à–µ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π –≥–æ—Ä–æ–¥
- –¢—É—Ä–∏—Å—Ç—ã, –∏—â—É—â–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º —ç–∫—Å–∫—É—Ä—Å–∏—è–º
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—â–∏–µ –ø—Ä–æ–≥—É–ª–∫–∏ –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ

**–í–æ–∑—Ä–∞—Å—Ç:** 18-45 –ª–µ—Ç  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã:** Web, iOS, Android

## üíé –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ MVP

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. **–ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å** - Mobile-first –ø–æ–¥—Ö–æ–¥, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
3. **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è** - –ü–æ–∏—Å–∫ –∫–≤–µ—Å—Ç–æ–≤ —Ä—è–¥–æ–º (Haversine formula)
4. **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ—Å—Ç—å** - –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ –≤ MVP
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - JWT –≤ HttpOnly cookies, Security Headers
6. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - Client-side –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–æ 40x faster

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Backend:**
- Symfony 6.4 (PHP 8.3)
- PostgreSQL 16
- Docker + Docker Compose
- Doctrine ORM

**Frontend:**
- React 19
- TypeScript 5.8
- Vite 6.3
- Tailwind CSS 3.4
- React Router 7.5
- Zod (–≤–∞–ª–∏–¥–∞—Ü–∏—è)

**Mobile:**
- Flutter (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ)

## üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **DDD (Domain Driven Design)** - 5 bounded contexts (User, Quest, UserProgress, Platform, City)
- **Domain Events** - Event Sourcing –¥–ª—è UserProgress (–ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π)
- **REST API** - 20 endpoints (–ø—É–±–ª–∏—á–Ω—ã–µ + JWT-protected)
- **Event Store** - Append-only log –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ audit trail

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ MVP

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (‚úÖ)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –≤–æ–π—Ç–∏ (JWT HttpOnly cookies)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –∫–≤–µ—Å—Ç –≤ —Å–≤–æ–µ–º –≥–æ—Ä–æ–¥–µ (—Ñ–∏–ª—å—Ç—Ä—ã + –≥–µ–æ–ø–æ–∏—Å–∫)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å/–ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/–∑–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–µ—Å—Ç
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å –∫–≤–µ—Å—Ç—ã –ª–∞–π–∫–∞–º–∏
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π (active/paused/completed)

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (‚è≥)
- ‚è≥ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ –∫–≤–µ—Å—Ç —Å —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏ (–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è)
- ‚è≥ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤
- ‚è≥ Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ

## üö´ –í–Ω–µ —Å–∫–æ—É–ø–∞ MVP

- –°–æ–∑–¥–∞–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (–æ—Ç–∑—ã–≤—ã, –æ—Ü–µ–Ω–∫–∏)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

**–í–µ—Ä—Å–∏—è:** 1.1  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-25  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-28  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ MVP (Backend API 35%, Frontend 70%)
