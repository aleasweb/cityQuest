# üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: Vite Proxy vs –ï–¥–∏–Ω—ã–π –¥–æ–º–µ–Ω

## –ü–æ–¥—Ö–æ–¥ 1: Vite Dev Server + Proxy

```
Development:
  Frontend: http://localhost:5173  (Vite dev server)
  Backend:  http://cityquest.test  (Nginx + Symfony)
  
Production:
  –ù—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π nginx/proxy –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏–∫–∏
```

### ‚úÖ –ü–ª—é—Å—ã:
- Hot Module Replacement (–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- –£–¥–æ–±–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è frontend

### ‚ùå –ú–∏–Ω—É—Å—ã:
- –î–≤–∞ —Å–µ—Ä–≤–µ—Ä–∞ –≤ development
- Dev ‚â† Production (—Ä–∞–∑–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- –ù—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CORS
- –ù—É–∂–µ–Ω Vite proxy
- –°–ª–æ–∂–Ω–µ–µ –¥–µ–ø–ª–æ–π

---

## –ü–æ–¥—Ö–æ–¥ 2: –ï–¥–∏–Ω—ã–π –¥–æ–º–µ–Ω (–ù–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ)

```
Development & Production:
  –í—Å–µ:      http://cityquest.test  (Nginx ‚Üí React + Symfony)
  
  /         ‚Üí React static files
  /api/*    ‚Üí Symfony API
```

### ‚úÖ –ü–ª—é—Å—ã:
- **–û–¥–∏–Ω –¥–æ–º–µ–Ω** (–Ω–µ—Ç CORS –ø—Ä–æ–±–ª–µ–º)
- **Dev = Production** (–æ–¥–∏–Ω–∞–∫–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- **–ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π** (`make deploy`)
- **–ë—ã—Å—Ç—Ä–µ–µ** (–Ω–µ—Ç preflight OPTIONS)
- **Production-ready** –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- –ü—Ä–æ—â–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
- –û–¥–∏–Ω nginx –¥–ª—è –≤—Å–µ–≥–æ

### ‚ùå –ú–∏–Ω—É—Å—ã:
- –ù–µ—Ç HMR (–Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö)
- –ß—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑—É–π –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞!

**Development (–±—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):**
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1
make install

# –¢–µ—Ä–º–∏–Ω–∞–ª 2
make frontend-dev    # localhost:5173 —Å HMR + proxy
```

**Testing/Production:**
```bash
make deploy    # cityquest.test —Å production build
```

---

## üìã –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—Ç–æ?

### Vite Dev Server (`make frontend-dev`)
–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–≥–¥–∞:
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ –º–µ–Ω—è–µ—à—å React –∫–æ–¥
- ‚úÖ –ù—É–∂–µ–Ω hot reload
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—à—å —Ç–æ–ª—å–∫–æ –Ω–∞–¥ UI
- ‚úÖ –ù—É–∂–Ω—ã –±—ã—Å—Ç—Ä—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏

### –ï–¥–∏–Ω—ã–π –¥–æ–º–µ–Ω (`make deploy`)
–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–≥–¥–∞:
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ—à—å integration
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—à—å production build
- ‚úÖ –î–µ–ø–ª–æ–∏—à—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—à—å –∫–ª–∏–µ–Ω—Ç—É
- ‚úÖ Production

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π workflow

### 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```bash
make frontend-dev
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:5173
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API
```bash
make deploy
# –û—Ç–∫—Ä—ã—Ç—å http://cityquest.test
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow
```

### 3. –ì–æ—Ç–æ–≤–æ –∫ production
```bash
make deploy
# –í—Å–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ!
```

---

## üèÜ –ò—Ç–æ–≥–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Vite Proxy | –ï–¥–∏–Ω—ã–π –¥–æ–º–µ–Ω |
|----------|------------|--------------|
| **Hot Reload** | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| **CORS –ø—Ä–æ–±–ª–µ–º—ã** | ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã | ‚úÖ –ù–µ—Ç |
| **Dev = Prod** | ‚ùå –†–∞–∑–Ω—ã–µ | ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ |
| **–°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** | ‚úÖ –ë—ã—Å—Ç—Ä–æ | ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ |
| **Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å** | ‚ö†Ô∏è –ù—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–µ–ø–ª–æ—è** | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è |
| **SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** | ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ | ‚úÖ –ü—Ä–æ—â–µ |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤** | 2 (Vite + Nginx) | 1 (Nginx) |

---

## üí° –ù–∞—à –ø–æ–¥—Ö–æ–¥: Best of Both Worlds

```bash
# Development —Å HMR
make frontend-dev     ‚Üí http://localhost:5173 (Vite)

# Production —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make deploy           ‚Üí http://cityquest.test (Nginx)
```

–ò—Å–ø–æ–ª—å–∑—É–π Vite dev server –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∏ –µ–¥–∏–Ω—ã–π –¥–æ–º–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ production.

**–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üéâ
